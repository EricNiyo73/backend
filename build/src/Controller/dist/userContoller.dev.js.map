{"version":3,"file":"userContoller.dev.js","names":["Object","defineProperty","exports","value","deleteUser","updateUser","getAll","login","createUser","_userModel","_interopRequireDefault","require","_bcrypt","_jsonwebtoken","obj","__esModule","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","configurable","writable","req","res","salt","hashedpassword","existingEmail","emailRegex","user1","newUser","regeneratorRuntime","async","createUser$","_context","prev","next","awrap","genSalt","sent","hash","body","password","findOne","email","test","abrupt","status","json","message","save","then","result","data","user","error","t0","code","console","stop","validated","token","login$","_context2","compare","sign","id","_id","process","env","JWT_SECRET","expiresIn","find","users","send","err","updatedUser","updateUser$","_context3","userId","params","findByIdAndUpdate","$set","deleteUser$","_context4","findById","findByIdAndDelete"],"sources":["../../../../src/Controller/dist/userContoller.dev.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.deleteUser = exports.updateUser = exports.getAll = exports.login = exports.createUser = void 0;\n\nvar _userModel = _interopRequireDefault(require(\"../model/userModel.js\"));\n\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar createUser = function createUser(req, res) {\n  var salt, hashedpassword, existingEmail, emailRegex, user1, newUser;\n  return regeneratorRuntime.async(function createUser$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 3;\n          return regeneratorRuntime.awrap(_bcrypt[\"default\"].genSalt(10));\n\n        case 3:\n          salt = _context.sent;\n          _context.next = 6;\n          return regeneratorRuntime.awrap(_bcrypt[\"default\"].hash(req.body.password, salt));\n\n        case 6:\n          hashedpassword = _context.sent;\n          _context.next = 9;\n          return regeneratorRuntime.awrap(_userModel[\"default\"].findOne({\n            email: req.body.email\n          }));\n\n        case 9:\n          existingEmail = _context.sent;\n          // Email validation using a regular expression\n          emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/;\n\n          if (emailRegex.test(req.body.email)) {\n            _context.next = 13;\n            break;\n          }\n\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: 'Invalid email format'\n          }));\n\n        case 13:\n          if (!existingEmail) {\n            _context.next = 17;\n            break;\n          }\n\n          return _context.abrupt(\"return\", res.status(409).json({\n            message: 'Email  already exists'\n          }));\n\n        case 17:\n          // Create a user\n          user1 = _objectSpread({}, req.body, {\n            password: hashedpassword\n          });\n          newUser = new _userModel[\"default\"](user1);\n          newUser.save().then(function (result) {\n            return res.status(200).json({\n              status: 'success',\n              data: {\n                user: newUser\n              }\n            });\n          })[\"catch\"](function (error) {\n            return res.status(500).json({\n              error: error\n            });\n          });\n\n        case 20:\n          _context.next = 27;\n          break;\n\n        case 22:\n          _context.prev = 22;\n          _context.t0 = _context[\"catch\"](0);\n\n          if (!(_context.t0.code === 'Cannot set headers after they are sent to the client')) {\n            _context.next = 27;\n            break;\n          }\n\n          console.error(_context.t0);\n          return _context.abrupt(\"return\", res.status(500).json({\n            message: 'Unexpected error'\n          }));\n\n        case 27:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, [[0, 22]]);\n}; // ===============================LOGIN==================================\n\n\nexports.createUser = createUser;\n\nvar login = function login(req, res) {\n  var user, validated, token;\n  return regeneratorRuntime.async(function login$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          _context2.next = 3;\n          return regeneratorRuntime.awrap(_userModel[\"default\"].findOne({\n            email: req.body.email\n          }));\n\n        case 3:\n          user = _context2.sent;\n          _context2.next = 6;\n          return regeneratorRuntime.awrap(_bcrypt[\"default\"].compare(req.body.password, user.password));\n\n        case 6:\n          validated = _context2.sent;\n\n          if (user && validated) {\n            _context2.next = 11;\n            break;\n          }\n\n          return _context2.abrupt(\"return\", res.status(201).json(\"Invalid Email or Username!\"));\n\n        case 11:\n          token = _jsonwebtoken[\"default\"].sign({\n            id: user._id\n          }, process.env.JWT_SECRET, {\n            expiresIn: '1h'\n          });\n          return _context2.abrupt(\"return\", res.status(200).json({\n            message: \"Logged in successfully\",\n            token: token\n          }));\n\n        case 13:\n          _context2.next = 18;\n          break;\n\n        case 15:\n          _context2.prev = 15;\n          _context2.t0 = _context2[\"catch\"](0);\n          return _context2.abrupt(\"return\", res.status(500).json(_context2.t0));\n\n        case 18:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, null, null, [[0, 15]]);\n}; // ===============================GETALL USERS=============================\n\n\nexports.login = login;\n\nvar getAll = function getAll(req, res) {\n  _userModel[\"default\"].find().then(function (users) {\n    return res.send(users);\n  })[\"catch\"](function (err) {\n    return res.status(500).send({\n      message: err.message || \"Some error occurred while retrieving user.\"\n    });\n  });\n}; // ====================update==============================\n\n\nexports.getAll = getAll;\n\nvar updateUser = function updateUser(req, res) {\n  var salt, updatedUser;\n  return regeneratorRuntime.async(function updateUser$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          if (!(req.body.userId === req.params.id)) {\n            _context3.next = 20;\n            break;\n          }\n\n          if (!req.body.password) {\n            _context3.next = 8;\n            break;\n          }\n\n          _context3.next = 4;\n          return regeneratorRuntime.awrap(_bcrypt[\"default\"].genSalt(10));\n\n        case 4:\n          salt = _context3.sent;\n          _context3.next = 7;\n          return regeneratorRuntime.awrap(_bcrypt[\"default\"].hash(req.body.password, salt));\n\n        case 7:\n          req.body.password = _context3.sent;\n\n        case 8:\n          _context3.prev = 8;\n          _context3.next = 11;\n          return regeneratorRuntime.awrap(_userModel[\"default\"].findByIdAndUpdate(req.params.id, {\n            $set: req.body\n          }, {\n            \"new\": true\n          }));\n\n        case 11:\n          updatedUser = _context3.sent;\n          return _context3.abrupt(\"return\", res.status(200).json(updatedUser));\n\n        case 15:\n          _context3.prev = 15;\n          _context3.t0 = _context3[\"catch\"](8);\n          res.status(500).json(_context3.t0);\n\n        case 18:\n          _context3.next = 21;\n          break;\n\n        case 20:\n          return _context3.abrupt(\"return\", res.status(401).json(\"You can update  your account only!\"));\n\n        case 21:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, null, null, [[8, 15]]);\n}; // ===================delete user================================\n\n\nexports.updateUser = updateUser;\n\nvar deleteUser = function deleteUser(req, res) {\n  var user;\n  return regeneratorRuntime.async(function deleteUser$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          if (!(req.body.userId === req.params.id)) {\n            _context4.next = 15;\n            break;\n          }\n\n          _context4.prev = 1;\n          _context4.next = 4;\n          return regeneratorRuntime.awrap(_userModel[\"default\"].findById(req.params.id));\n\n        case 4:\n          user = _context4.sent;\n          _context4.next = 7;\n          return regeneratorRuntime.awrap(_userModel[\"default\"].findByIdAndDelete(req.params.id));\n\n        case 7:\n          return _context4.abrupt(\"return\", res.status(200).json(\"User has been deleted...\"));\n\n        case 10:\n          _context4.prev = 10;\n          _context4.t0 = _context4[\"catch\"](1);\n          return _context4.abrupt(\"return\", res.status(404).json(\"User not found!\"));\n\n        case 13:\n          _context4.next = 16;\n          break;\n\n        case 15:\n          return _context4.abrupt(\"return\", res.status(401).json(\"You can delete only your account!\"));\n\n        case 16:\n        case \"end\":\n          return _context4.stop();\n      }\n    }\n  }, null, null, [[1, 10]]);\n};\n\nexports.deleteUser = deleteUser;"],"mappings":"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"}