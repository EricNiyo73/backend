{"version":3,"file":"userContoller.dev.js","names":["Object","defineProperty","exports","value","deleteUser","updateUser","getAll","login","createUser","_userModel","_interopRequireDefault","require","_bcrypt","_jsonwebtoken","obj","__esModule","req","res","salt","hashedpassword","existingEmail","emailRegex","newUser","regeneratorRuntime","async","createUser$","_context","prev","next","awrap","genSalt","sent","hash","body","password","findOne","email","test","abrupt","status","json","message","firstname","lastname","save","then","result","data","user","error","t0","code","console","stop","validated","token","login$","_context2","compare","sign","id","_id","process","env","JWT_SECRET","expiresIn","find","users","send","err","updatedUser","updateUser$","_context3","userId","params","findByIdAndUpdate","$set","deleteUser$","_context4","findById","findByIdAndDelete"],"sources":["../../../../src/Controller/dist/userContoller.dev.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.deleteUser = exports.updateUser = exports.getAll = exports.login = exports.createUser = void 0;\n\nvar _userModel = _interopRequireDefault(require(\"../model/userModel.js\"));\n\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar createUser = function createUser(req, res) {\n  var salt, hashedpassword, existingEmail, emailRegex, newUser;\n  return regeneratorRuntime.async(function createUser$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 3;\n          return regeneratorRuntime.awrap(_bcrypt[\"default\"].genSalt(10));\n\n        case 3:\n          salt = _context.sent;\n          _context.next = 6;\n          return regeneratorRuntime.awrap(_bcrypt[\"default\"].hash(req.body.password, salt));\n\n        case 6:\n          hashedpassword = _context.sent;\n          _context.next = 9;\n          return regeneratorRuntime.awrap(_userModel[\"default\"].findOne({\n            email: req.body.email\n          }));\n\n        case 9:\n          existingEmail = _context.sent;\n          // Email validation using a regular expression\n          emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/;\n\n          if (emailRegex.test(req.body.email)) {\n            _context.next = 13;\n            break;\n          }\n\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: 'Invalid email format'\n          }));\n\n        case 13:\n          if (!existingEmail) {\n            _context.next = 17;\n            break;\n          }\n\n          return _context.abrupt(\"return\", res.status(409).json({\n            message: 'Email  already exists'\n          }));\n\n        case 17:\n          // Create a user\n          newUser = new _userModel[\"default\"]({\n            firstname: req.body.firstname,\n            lastname: req.body.lastname,\n            email: req.body.email,\n            password: hashedpassword\n          });\n          newUser.save().then(function (result) {\n            return res.status(200).json({\n              status: 'success',\n              data: {\n                user: newUser\n              }\n            });\n          })[\"catch\"](function (error) {\n            return res.status(500).json({\n              error: error\n            });\n          });\n\n        case 19:\n          _context.next = 26;\n          break;\n\n        case 21:\n          _context.prev = 21;\n          _context.t0 = _context[\"catch\"](0);\n\n          if (!(_context.t0.code === 'Cannot set headers after they are sent to the client')) {\n            _context.next = 26;\n            break;\n          }\n\n          console.error(_context.t0);\n          return _context.abrupt(\"return\", res.status(500).json({\n            message: 'Unexpected error'\n          }));\n\n        case 26:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, [[0, 21]]);\n}; // ===============================LOGIN==================================\n\n\nexports.createUser = createUser;\n\nvar login = function login(req, res) {\n  var user, validated, token;\n  return regeneratorRuntime.async(function login$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          _context2.next = 3;\n          return regeneratorRuntime.awrap(_userModel[\"default\"].findOne({\n            email: req.body.email\n          }));\n\n        case 3:\n          user = _context2.sent;\n          _context2.next = 6;\n          return regeneratorRuntime.awrap(_bcrypt[\"default\"].compare(req.body.password, user.password));\n\n        case 6:\n          validated = _context2.sent;\n\n          if (user && validated) {\n            _context2.next = 11;\n            break;\n          }\n\n          return _context2.abrupt(\"return\", res.status(201).json(\"Invalid Email or Username!\"));\n\n        case 11:\n          token = _jsonwebtoken[\"default\"].sign({\n            id: user._id\n          }, process.env.JWT_SECRET, {\n            expiresIn: '1h'\n          });\n          return _context2.abrupt(\"return\", res.status(200).json({\n            message: \"Logged in successfully\",\n            token: token\n          }));\n\n        case 13:\n          _context2.next = 18;\n          break;\n\n        case 15:\n          _context2.prev = 15;\n          _context2.t0 = _context2[\"catch\"](0);\n          return _context2.abrupt(\"return\", res.status(500).json(_context2.t0));\n\n        case 18:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, null, null, [[0, 15]]);\n}; // ===============================GETALL USERS=============================\n\n\nexports.login = login;\n\nvar getAll = function getAll(req, res) {\n  _userModel[\"default\"].find().then(function (users) {\n    return res.send(users);\n  })[\"catch\"](function (err) {\n    return res.status(500).send({\n      message: err.message || \"Some error occurred while retrieving user.\"\n    });\n  });\n}; // ====================update==============================\n\n\nexports.getAll = getAll;\n\nvar updateUser = function updateUser(req, res) {\n  var salt, updatedUser;\n  return regeneratorRuntime.async(function updateUser$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          if (!(req.body.userId === req.params.id)) {\n            _context3.next = 20;\n            break;\n          }\n\n          if (!req.body.password) {\n            _context3.next = 8;\n            break;\n          }\n\n          _context3.next = 4;\n          return regeneratorRuntime.awrap(_bcrypt[\"default\"].genSalt(10));\n\n        case 4:\n          salt = _context3.sent;\n          _context3.next = 7;\n          return regeneratorRuntime.awrap(_bcrypt[\"default\"].hash(req.body.password, salt));\n\n        case 7:\n          req.body.password = _context3.sent;\n\n        case 8:\n          _context3.prev = 8;\n          _context3.next = 11;\n          return regeneratorRuntime.awrap(_userModel[\"default\"].findByIdAndUpdate(req.params.id, {\n            $set: req.body\n          }, {\n            \"new\": true\n          }));\n\n        case 11:\n          updatedUser = _context3.sent;\n          return _context3.abrupt(\"return\", res.status(200).json(updatedUser));\n\n        case 15:\n          _context3.prev = 15;\n          _context3.t0 = _context3[\"catch\"](8);\n          res.status(500).json(_context3.t0);\n\n        case 18:\n          _context3.next = 21;\n          break;\n\n        case 20:\n          return _context3.abrupt(\"return\", res.status(401).json(\"You can update  your account only!\"));\n\n        case 21:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, null, null, [[8, 15]]);\n}; // ===================delete user================================\n\n\nexports.updateUser = updateUser;\n\nvar deleteUser = function deleteUser(req, res) {\n  var user;\n  return regeneratorRuntime.async(function deleteUser$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          if (!(req.body.userId === req.params.id)) {\n            _context4.next = 15;\n            break;\n          }\n\n          _context4.prev = 1;\n          _context4.next = 4;\n          return regeneratorRuntime.awrap(_userModel[\"default\"].findById(req.params.id));\n\n        case 4:\n          user = _context4.sent;\n          _context4.next = 7;\n          return regeneratorRuntime.awrap(_userModel[\"default\"].findByIdAndDelete(req.params.id));\n\n        case 7:\n          return _context4.abrupt(\"return\", res.status(200).json(\"User has been deleted...\"));\n\n        case 10:\n          _context4.prev = 10;\n          _context4.t0 = _context4[\"catch\"](1);\n          return _context4.abrupt(\"return\", res.status(404).json(\"User not found!\"));\n\n        case 13:\n          _context4.next = 16;\n          break;\n\n        case 15:\n          return _context4.abrupt(\"return\", res.status(401).json(\"You can delete only your account!\"));\n\n        case 16:\n        case \"end\":\n          return _context4.stop();\n      }\n    }\n  }, null, null, [[1, 10]]);\n};\n\nexports.deleteUser = deleteUser;"],"mappings":"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"}